<p class = "text-danger bg-white" *ngIf = "errorMessage">{{errorMessage}}</p>
<div class = "overflow-auto p-2 bg-light-grey" *ngIf = "cache.routes && (cache.routes.length > 0) && !selectedRoute">
  <div *ngFor = "let route of cache.routes" (click) = "selectRoute(route)">
    <p>Route: {{route.id}}</p>
    <p>Description: {{route.description}}</p>
    <hr>
  </div>
</div>
<div class = "overflow-auto p-2 bg-light-grey" *ngIf = "selectedRoute">
  <p>Route ID: {{selectedRoute.id}}</p>
  <p>Description: {{selectedRoute.description}}</p>
  <p>Start Time: {{selectedRoute.idealStartTime | date:'full'}}</p>
  <hr>
  <ul>
    <li *ngFor = "let node of selectedRoute.nodes">
      <div>
        <p>ID: {{node.id}}</p>
        <p>Location: {{node.location}}</p>
      </div>
      <hr>
    </li>
  </ul>
  <button class = "pl-3 pr-3 btn btn-light" (click) = closeEditRoute() [disabled] = "isPending">Exit</button>
  <hr>
  <h2>Forecasts</h2>
  <span>
    <button class = "pl-3 pr-3 btn btn-light" (click) = "getPrevForecast()" *ngIf = "selectedNodeIndex !== 0" [disabled] = "isPending">Prev</button>
    <button class = "pl-3 pr-3 btn btn-light" (click) = "getNextForecast()" *ngIf = "selectedNodeIndex !== (selectedRoute.nodes.length - 1)" [disabled] = "isPending">Next</button>
  </span>
  <hr>
  <div class = "bg-white rounded text-center" *ngIf = "selectedForecast">
    <h2>{{selectedRoute.nodes[selectedNodeIndex].location}}</h2>
    <h3>{{selectedForecast.weather[0].main}}</h3>
    <img src = "http://openweathermap.org/img/wn/{{selectedForecast.weather[0].icon}}@2x.png"/>
    <p>{{selectedForecast.main.temp}}</p>
    <p>{{selectedForecast.main.temp_min}} - {{selectedForecast.main.temp_max}}</p>
  </div>
</div>
